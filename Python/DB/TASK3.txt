CREATE OR REPLACE FUNCTION notification_trg_func()
RETURNS TRIGGER
LANGUAGE 'plpgsql'
AS $$
DECLARE
BEGIN
    CREATE TABLE IF NOT EXISTS  Notifications(
        Reporting_Manager VARCHAR(30),
        Leave_ID VARCHAR,
        approved BOOLEAN DEFAULT FALSE
    );

    INSERT INTO Notifications
    (Reporting_Manager,Leave_ID) 
    VALUES(NEW.manager,NEW.emp_id);

    RETURN NEW;

END;
$$;

-- /*********************************/

CREATE TRIGGER notification_trg
    AFTER INSERT OR UPDATE
    ON public.leave_details
    FOR EACH ROW
    EXECUTE PROCEDURE public.notification_trg_func();